<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartwright Ranch - Trick or Treat Map</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
</head>
<body>
    <div id="header">
        <h1>🎃 Cartwright Ranch Trick or Treat Map 🍬</h1>
        <p class="subtitle">Click on the map to mark if you're handing out candy!</p>
    </div>
    
    <div id="controls">
        <button id="addMarkerBtn" class="btn btn-primary">📍 Mark My House</button>
        <button id="toggleMapBtn" class="btn btn-toggle">🗺️ Google Maps</button>
        <button id="zoomInBtn" class="btn btn-zoom">🔍 +</button>
        <button id="zoomOutBtn" class="btn btn-zoom">🔍 -</button>
        <div class="legend">
            <span class="legend-item">🎃 = Giving out candy!</span>
        </div>
    </div>
    
    <div id="mapContainer">
        <div id="map">
            <!-- Neighborhood image will be displayed here -->
            <img id="neighborhoodImage" src="neighborhood-map.jpg" alt="Neighborhood Map" />
        </div>
        <div id="googleMap" style="display:none;">
            <!-- Google Maps will be rendered here -->
        </div>
    </div>
    
    <div id="instructions">
        <h3>How to use:</h3>
        <ol>
            <li>Click the "📍 Mark My House" button to enable marking mode</li>
            <li>Click on your house location on the neighborhood map</li>
            <li>Your house will be marked with a 🎃 pumpkin icon</li>
            <li>Click on any existing marker to remove it</li>
            <li>Use zoom buttons to adjust the view</li>
        </ol>
        <p class="note"><strong>Note:</strong> Markers are shared across all users in real-time!</p>
        
        <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.1); border-radius: 8px;">
            <h4 style="color: #ffa500; margin-bottom: 10px;">🗺️ Using Your Own Neighborhood Map:</h4>
            <p>For the best experience, add your own neighborhood image:</p>
            <ol>
                <li>Take a screenshot of your neighborhood from Google Maps, Apple Maps, or satellite imagery</li>
                <li>Save the image as <strong>"neighborhood-map.jpg"</strong></li>
                <li>Place it in the same folder as this HTML file</li>
                <li>Refresh the page to see your custom map!</li>
            </ol>
            <p><em>Supported formats: .jpg, .jpeg, .png, .gif</em></p>
        </div>
    </div>
    
    <div id="config-notice" style="display:none;">
        <div style="background: #fff3cd; color: #856404; padding: 15px; margin: 20px; border-radius: 8px; text-align: center;">
            <strong>⚠️ Configuration Required</strong>
            <p>Please add your Firebase and Google Maps API keys to secrets to enable shared markers and map view.</p>
        </div>
    </div>
    
    <script src="app.js"></script>
    <!-- Google Maps API - Will be dynamically loaded by JavaScript with secure API key -->
    <script>
        // Google Maps API will be loaded dynamically by app.js if API key is configured
        // This keeps the API key secure and out of the HTML source
    </script>
</body>
</html>